<nav class="navbar navbar-expand fixed-top" :class="{'rwdSwitchOn' : menuStatus}">
  <div class="container d-flex justify-content-center justify-content-md-between rwd-full" style="padding:0 15px;">
    <div class="d-flex align-items-center nav-logo">
        <!-- logo svg -->
        <svg id="圖層_1" data-name="圖層 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 62.86 61.36" style="width:50px;"><path class="cls-1" style="fill:#5e93cd;" d="M14.29,22.62a16.59,16.59,0,0,1,7.54,1.8.65.65,0,0,0,.29.07.59.59,0,0,0,.58-.43v0a14.52,14.52,0,0,0,.56-3.8v-.07A15.27,15.27,0,0,0,8.67,5l-.41,0a2.11,2.11,0,0,0-.3,0A15.34,15.34,0,0,0-7.37,20.22,15.16,15.16,0,0,0-2.91,31a1.84,1.84,0,0,0,1.31.54,1.78,1.78,0,0,0,1.53-.84A16.76,16.76,0,0,1,14.29,22.62Z" transform="translate(7.37 6.52)"/><path class="cls-2" style="fill:#7bbd31;" d="M24.85,20.18v.08a14.85,14.85,0,0,1-.29,2.81.8.8,0,0,0,.17.67.74.74,0,0,0,.58.28h.06a15.19,15.19,0,0,0,14-15.21,15,15,0,0,0-.72-4.4A15.19,15.19,0,0,0,24.06-6.52a15.28,15.28,0,0,0-13.2,7.69,1.8,1.8,0,0,0-.09,1.61A1.86,1.86,0,0,0,12,3.87,16.82,16.82,0,0,1,24.85,20.18Z" transform="translate(7.37 6.52)"/><path class="cls-3" style="fill:#d7433c;" d="M55.49,20.22A15.26,15.26,0,0,0,43.7,5.3,7.15,7.15,0,0,0,43,5.18h-.23a1.89,1.89,0,0,0-1.41.64,1.73,1.73,0,0,0-.44,1.36A14.15,14.15,0,0,1,41,8.8,17,17,0,0,1,26.48,25.48a.51.51,0,0,0-.38.25.42.42,0,0,0,0,.38h0a15.3,15.3,0,0,0,29.42-5.89Z" transform="translate(7.37 6.52)"/><path class="cls-4" style="fill:#eaca39;" d="M16.93,39.53a16.66,16.66,0,0,1,5.31-12.22.59.59,0,0,0,.19-.49.49.49,0,0,0-.23-.38h0A15.21,15.21,0,0,0,0,34,14.6,14.6,0,0,0-.06,44.71,15.23,15.23,0,0,0,14.29,54.85a14.85,14.85,0,0,0,6.26-1.38,1.76,1.76,0,0,0,1-1.25,1.87,1.87,0,0,0-.43-1.64A16.75,16.75,0,0,1,16.93,39.53Z" transform="translate(7.37 6.52)"/><path class="cls-5" style="fill:#dfa134;" d="M25.27,28.11a.84.84,0,0,0-.74-.46.78.78,0,0,0-.5.19,15.32,15.32,0,0,0,9.81,27A15.23,15.23,0,0,0,48.18,44.71a14.47,14.47,0,0,0,.8-7.36,1.88,1.88,0,0,0-1.83-1.61,1.8,1.8,0,0,0-.68.14,16.59,16.59,0,0,1-6.3,1.24A16.84,16.84,0,0,1,25.27,28.11Z" transform="translate(7.37 6.52)"/></svg>
        <!-- logo svg end-->
        <div class="ml-2">
            <div class="ch-title">兆福採購醫藥網</div>
            <div class="en-title font-12">ZhoaFu eCommerce  Co., Ltd </div>
        </div>
    </div>
  
    <div class="search">
      <div class="search-box d-flex" :class="{'search-box-focus' : inputOnfocus}">
        <input class="search-txt" type="text" name="" v-model="searchStr" @focus="inputOnfocus = true" @blur="inputOnfocus = false" placeholder="中英文名稱 / 國際條碼 / 廠牌 / 健保碼 / 供應商">
        <button type="button" class="search-btn"><i class="material-icons">search</i></button>
      </div>
    </div>

    <div class="rwd-menu-btn d-md-none" @click="menu_status(true)"><i class="material-icons">menu</i></div>
    <div class="rwd-shadow d-md-none" v-if="menuStatus" @click="menu_status(false)"></div>
    <div class="rwd-menu" :class="{ 'witchOn' : menuStatus }">
      <ul class="navbar-nav main-menu">
        <li class="nav-item">
          <a class="nav-link" href="javascript:;" @click="goHome">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="currentColor"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"/></svg>
          </a>
          <div class="line"></div>
        </li>
        <li class="nav-item">
          <router-link class="nav-link" :to="{name : 'cart' }">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
          </router-link>
          <div class="line"></div>
        </li>
        <li class="nav-item">
            <router-link class="nav-link" :to="{name : 'memCenter' }">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"  fill="currentColor"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"/></svg>
            </router-link>
            <div class="line"></div>
        </li>
      </ul>
      <div class="account border d-flex justify-content-between align-items-center font-12 px-2">
        <div>高雄柏順藥局</div>
        <div class="line"></div>
        <a href="javascript:;" @click="logout">登出</a>
        <!-- <a class="login" href="javascript:;">登入</a> -->
      </div>
       
      <div class="menu-option">
        <div class="container d-flex justify-content-between align-items-center flex-md-row flex-column-reverse rwd-full rwd-pd-0">
          <!-- 桌機 -->
          <ul class="navbar-nav mr-auto flex-md-row flex-column d-md-flex d-none">
            <li class="nav-item position-relative" @click="showMenu" :class="{active : showMenuBoxSwitch}">
              <a class="nav-link" href="javascript:;">商品分類</a>
              <i class="material-icons d-md-none rwd-arrow">keyboard_arrow_right</i>
              <!-- <ul class="secondMenu">
                <li class="d-flex justify-content-between align-items-center" v-for="(item, key) in productCateList" :key="item.id">
                  <div class="menu-img">
                    <img src="/public/img/menu-1.png" class='img-fluid w-100' alt="">
                  </div>
                  <a class="nav-link" href="javascript:;">{{item.name}}</a>
                  <i class="material-icons">keyboard_arrow_right</i>
                  <ul class="thirdMenu">
                    <li class="d-flex justify-content-between align-items-center pl-2" v-for="item2 in item.child" :key="item2.id">
                        <a class="nav-link text-nowrap" href="javascript:;">{{item2.name}}</a>
                        <i class="material-icons">keyboard_arrow_right</i>
                    </li>
                  </ul>
                </li>
              </ul>   -->
            </li>
            <li class="nav-item position-relative">
              <a class="nav-link" href="javascript:;">健康諮訊</a>
            </li>
            <li class="nav-item position-relative">
              <a class="nav-link" href="javascript:;">特價商品</a>
            </li>
            <li class="nav-item position-relative">
              <a class="nav-link" href="javascript:;">整店共藥</a>
            </li>
            <li class="nav-item position-relative">
              <a class="nav-link" href="javascript:;">優惠訊息</a>
            </li>
            <li class="nav-item position-relative">
              <a class="nav-link" href="javascript:;">公益館</a>
            </li>
          </ul>

          <!-- rwd 內容 -->
          <div class="rwdMenuBox d-md-none position-relative">
            <div class="rwd-nav-guide bg-white shadow-sm position-relative d-flex justify-content-center align-items-center">
              <transition name="returnBack" mode="out-in" appear>
                <div class="rwd-return d-flex align-items-center" @click="rwdMenuBack" v-if="rwdMenuStep > 0"><i class="material-icons d-md-none rwd-arrow">keyboard_arrow_left</i>返回</div>
              </transition>  
              {{rwdMenuGuide}}
            </div>
              
            <ul class="navbar-nav mr-auto flex-md-row flex-column rwd-menu-1" :class="{'rwdMenuClose' : rwdMenuStep >= 1}">
              <li class="nav-item position-relative" @click="rwdHandler(1, null,'商品分類')">
                <a class="nav-link" href="javascript:;">商品分類</a>
                <i class="material-icons d-md-none rwd-arrow">keyboard_arrow_right</i>
              </li>
              <li class="nav-item position-relative">
                <a class="nav-link" href="javascript:;">健康諮訊</a>
              </li>
              <li class="nav-item position-relative">
                <a class="nav-link" href="javascript:;">特價商品</a>
              </li>
              <li class="nav-item position-relative">
                <a class="nav-link" href="javascript:;">整店共藥</a>
              </li>
              <li class="nav-item position-relative">
                <a class="nav-link" href="javascript:;">優惠訊息</a>
              </li>
              <li class="nav-item position-relative">
                <a class="nav-link" href="javascript:;">公益館</a>
              </li>
            </ul>

            <ul class="navbar-nav mr-auto flex-md-row flex-column rwd-menu-2" 
                :class="{'rwdMenuOpen' : rwdMenuStep == 1, 'rwdMenuClose' : rwdMenuStep == 2}"
            >
              <loading 
                :active.sync="menuListShowLoading"
                color="rgba(36, 94, 96,1)"
                :opacity= "loadingOpacity"
                :is-full-page="fullNone"
                loader="dots"
              ></loading>
              <li class="nav-item position-relative" v-for="item in productCateListFirst" :key="item.id" @click="rwdHandler(2, item.id, item.name)">
                <a class="nav-link" href="javascript:;">{{item.name}}</a>
                <i class="material-icons d-md-none rwd-arrow">keyboard_arrow_right</i>
              </li>
            </ul>
            <ul class="navbar-nav mr-auto flex-md-row flex-column rwd-menu-3" :class="{'rwdMenuOpen' : rwdMenuStep == 2 ,'rwdMenuClose' : rwdMenuStep == 3}">
              <loading 
                :active.sync="menuListSecondShowLoading"
                color="rgba(36, 94, 96,1)"
                :opacity= "loadingOpacity"
                :is-full-page="fullNone"
                loader="dots"
              ></loading>
              <li class="nav-item position-relative" v-for="item in productCateListSecond" :key="item.id" 
                  @click="rwdHandler(3, item.id, item.name)"
              >
                <a class="nav-link" href="javascript:;">{{item.name}}</a>
                <i class="material-icons d-md-none rwd-arrow">keyboard_arrow_right</i>
              </li>
            </ul>
            <ul class="navbar-nav mr-auto flex-md-row flex-column rwd-menu-4" :class="{'rwdMenuOpen' : rwdMenuStep == 3}">
              <loading 
                :active.sync="menuListThirdShowLoading"
                color="rgba(36, 94, 96,1)"
                :opacity= "loadingOpacity"
                :is-full-page="fullNone"
                loader="dots"
              ></loading>
              <li class="nav-item position-relative" v-for="item in productCateListThird" :key="item.id">
                <a class="nav-link" href="javascript:;" @click="goCatePage(item.id)">{{item.name}}</a>
              </li>
            </ul>
          </div>
          <!-- <div class="search mr-md-1 mr-0">
            <div class="search-box d-flex">
              <input class="search-txt" type="text" name="" placeholder="搜尋商品名稱 / 國際條碼 / 商家">
              <button type="button" class="search-btn"><i class="material-icons">search</i></button>
            </div>
          </div> -->
        </div>    
      </div>

      <button type="button" class="close close-btn d-md-none" aria-label="Close" @click="menu_status(false)">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    
  </div>  
  
  <transition name="navShow" mode="out-in" appear>
    <div class="showMenuBox d-md-block d-none" v-if="showMenuBoxSwitch">
      <div class="container rwd-full">
        <ul class="secondMenu mb-0 position-relative">
          <loading 
            :active.sync="menuListShowLoading"
            color="rgba(36, 94, 96,1)"
            :opacity= "loadingOpacity"
            :is-full-page="fullNone"
            loader="dots"
          ></loading>
          <li class="d-flex justify-content-between align-items-center pl-3" v-for="item in productCateListFirst" :key="item.id" :class="{active : showMenuBoxActive == item.id}"  @click="showMenuSecond(item.id)">
              <a class="nav-link" href="javascript:;">{{item.name}}</a>
              <i class="material-icons">keyboard_arrow_right</i>
          </li>

          <transition name="fade" mode="out-in" appear>
            <ul class="thirdMenu" v-if="showMenuBoxSecondSwitch">
              <loading 
                :active.sync="menuListSecondShowLoading"
                color="#fff"
                :opacity= "loadingOpacityZero"
                :is-full-page="fullNone"
                loader="dots"
              ></loading>
              <li class="d-flex justify-content-between align-items-center pl-2" v-for="item2 in productCateListSecond" :key="item2.id" :class="{active : showMenuBox2Active == item2.id}"  @click="showMenuThird(item2.id)">
                  <a class="nav-link text-nowrap" href="javascript:;">{{item2.name}}</a>
                  <i class="material-icons">keyboard_arrow_right</i>
              </li>
            </ul>
          </transition>

          <transition name="fade" mode="out-in" appear>
            <div class="forthMenu d-flex" v-if="showMenuBoxThirdSwitch">
              <ul class="forthMenuUL">
                <loading 
                  :active.sync="menuListThirdShowLoading"
                  color="#fff"
                  :opacity= "loadingOpacityZero"
                  :is-full-page="fullNone"
                  loader="dots"
                ></loading>
                <li class="d-flex justify-content-start align-items-center" v-for="item3 in productCateListThird" :key="item3.id">
                    <a class="nav-link text-nowrap flex-fill" href="javascript:;" @click="goCatePage(item3.id)">{{item3.name}}</a>
                </li>
              </ul>
              <div class="flex-fill col-12 pt-3 ml-3">
                  <div class="bg-white mb-3" v-for="item in navAdList" :key="item.id">
                      <transition name="fade" mode="out-in" appear>
                        <imgLazyLoading class="navAdBox" :imgUrl="item.url" imgError="/img/image_error_3x1.png"/>
                      </transition> 
                  </div>
              </div>
            </div>
          </transition>
        </ul>
        
      </div>
      <div class="navShow-shadow" @click="showMenuBoxSwitch = false"></div>
    </div>
  </transition>

</nav>
